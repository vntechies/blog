---
title: AWS CDK lÃ  gÃ¬?
date: '2022-08-23'
tags: ['aws', 'aws cdk', 'devops']
draft: false
images: ['/static/images/ogps/aws-cdk.png']
summary: 'AWS CDK, nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n, lÃ m sao Ä‘á»ƒ báº¯t Ä‘áº§u, nhá»¯ng good practices vÃ  tools Ä‘á»ƒ lÃ m viá»‡c hiá»‡u quáº£ hÆ¡n'
index: 1
---

Infrastructure as Code Ä‘Ã£ trá»Ÿ thÃ nh tiÃªu chuáº©n vÃ  lÃ  má»™t trong nhá»¯ng good practices trong vÃ i nÄƒm trá»Ÿ láº¡i Ä‘Ã¢y. CÃ¡c tá»• chá»©c, doanh nghiá»‡p Ä‘Ã£ tháº¥y sá»± tiá»‡n lá»£i vÃ  há»¯u Ã­ch cá»§a viá»‡c quáº£n lÃ½ resource thÃ´ng qua IaC thay vÃ¬ cÃ¡ch lÃ m truyá»n thá»‘ng trÃªn AWS console.

Hiá»‡n táº¡i, cÃ³ 2 cÃ´ng cá»¥ phá»• biáº¿n cho phÃ©p báº¡n Ä‘á»‹nh nghÄ©a vÃ  quáº£n lÃ½ tÃ i nguyÃªn trÃªn cloud sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p khai bÃ¡o (declarative) lÃ  AWS CloudFormation vÃ  Terraform.

CÃ³ má»™t váº¥n Ä‘á» vá»›i viá»‡c Ä‘á»‹nh nghÄ©a theo phÆ°Æ¡ng phÃ¡p khai bÃ¡o lÃ  khi há»‡ thá»‘ng cá»§a báº¡n lá»›n hÆ¡n Ä‘Ã³ lÃ  viá»‡c maintain cÃ¡c template files sá»­ dá»¥ng JSON hoáº·c YAML cÅ©ng trá»Ÿ nÃªn náº·ng ná» vÃ  khÃ³ khÄƒn hÆ¡n.

ÄÃ³ lÃ  lÃ½ do AWS CDK xuáº¥t hiá»‡n Ä‘á»ƒ cáº£i thiá»‡n quy trÃ¬nh lÃ m viá»‡c cá»§a cÃ¡c developer vÃ  giÃºp há» táº¡o cÃ¡c tÃ i nguyÃªn, infrastructure trÃªn Cloud sá»­ dá»¥ng phÆ°Æ¡ng phÃ¡p má»‡nh lá»‡nh (imperative).

Trong hÆ°á»›ng dáº«n nÃ y, báº¡n sáº½ tÃ¬m hiá»ƒu AWS CDK lÃ  gÃ¬, lÃ m sao Ä‘á»ƒ báº¡n cÃ³ thá»ƒ táº¡o Ä‘Æ°á»£c cÃ¡c resources tá»« nhá»¯ng dÃ²ng code vÃ  nhá»¯ng good practices trong quÃ¡ trÃ¬nh phÃ¡t triá»ƒn.

<TOCInline toc={props.toc} asDisclosure />

## AWS Cloud Development Kit (CDK) lÃ  gÃ¬?

AWS Cloud Development Kit (AWS CDK) lÃ  má»™t khung phÃ¡t triá»ƒn (framework) pháº§n má»m mÃ£ nguá»“n má»Ÿ Ä‘á»ƒ xÃ¡c Ä‘á»‹nh tÃ i nguyÃªn á»©ng dá»¥ng Ä‘Ã¡m mÃ¢y báº±ng cÃ¡c ngÃ´n ngá»¯ láº­p trÃ¬nh quen thuá»™c. ÄÃ¢y lÃ  cÃ´ng cá»¥ tá»•ng há»£p á»©ng dá»¥ng AWS CDK thÃ nh cÃ¡c CloudFormation template vÃ  triá»ƒn khai háº¡ táº§ng trÃªn AWS Cloud.

PhiÃªn báº£n beta cÃ´ng khai Ä‘áº§u tiÃªn cá»§a AWS CDK (v.0.8.0) Ä‘Æ°á»£c cÃ´ng bá»‘ vÃ o nÄƒm 2018, lÃºc Ä‘Ã³ CDK nhÆ° má»™t cÃ¡ch tiáº¿p cáº­n thay tháº¿ cho viá»‡c triá»ƒn khai cÃ¡c AWS resources báº±ng code sá»­ dá»¥ng ngÃ´n ngá»¯ Typescript.

AWS CDK lÃ  má»™t [open source project](https://github.com/aws/aws-cdk) vÃ  version Generally Available (GA) cá»§a AWS CDKs v2 Ä‘Ã£ Ä‘Æ°á»£c Werner Vogels - CTO cá»§a Amazon cÃ´ng bá»‘ vÃ o thÃ¡ng 12 nÄƒm 2021 trong sá»± kiá»‡n re:invent.

Version 2 cá»§a CDK há»— trá»£ cÃ¡c ngÃ´n ngá»¯ sau:

| NgÃ´n ngá»¯   | Stability    |
| ---------- | ------------ |
| TypeScript | Stable       |
| JavaScript | Stable       |
| Python     | Stable       |
| Java       | Stable       |
| C#/.NET    | Stable       |
| Go         | Experimental |

Khi báº£n GA Ä‘Æ°á»£c cÃ´ng bá»‘, Ä‘iá»u Ä‘Ã³ cÃ³ nghÄ©a ráº±ng sáº½ khÃ´ng cÃ³ thay Ä‘á»•i nÃ o Ä‘Ã³ quÃ¡ lá»›n tá»« thá»i Ä‘iá»ƒm Ä‘Ã³ vÃ  chÃºng ta cÃ³ thá»ƒ yÃªn tÃ¢m sá»­ dá»¥ng chÃºng cho mÃ´i trÆ°á»ng production.

## Tá»•ng quan vá» AWS CDK

NÃ³i Ä‘Æ¡n giáº£n thÃ¬ á»©ng dá»¥ng AWS CDK gá»“m 3 thÃ nh pháº§n chÃ­nh (basic building blocks):

1. **App** lÃ  thÃ nh pháº§n chÃ­nh cá»§a cáº¥u trÃºc, há»£p nháº¥t táº¥t cáº£ cÃ¡c stacks trong á»©ng dá»¥ng vÃ  sau Ä‘Ã³ triá»ƒn khai trÃªn AWS
2. **Stack** gáº§n tÆ°Æ¡ng tá»± vá»›i Stack trong CloudFormation, lÃ  má»™t Ä‘Æ¡n vá»‹ (template) chá»©a cÃ¡c tÃ i nguyÃªn AWS á»Ÿ dáº¡ng cáº¥u trÃºc (constructs) vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng Ä‘á»ƒ triá»ƒn khai.
3. **Construct** lÃ  thÃ nh pháº§n cÆ¡ báº£n chá»©a cÃ¡c tÃ i nguyÃªn AWS (má»™t hoáº·c nhiá»u). Báº¡n cÃ³ thá»ƒ tuá»³ Ã½ táº¡o ra vÃ  káº¿t há»£p cÃ¡c tÃ i nguyÃªn Ä‘á»ƒ táº¡o ra cáº¥u trÃºc (construct) riÃªng cá»§a mÃ¬nh

![AWS CDK Diagram](/static/images/assets/aws-cdk-diagram.png)

CÃ³ thá»ƒ hiá»ƒu Ä‘Æ¡n giáº£n theo diagram trÃªn, AWS CDK giÃºp báº¡n táº¡o ra mÃ£ nguá»“n, thÃ´ng qua AWS CDK CLI Ä‘Ã³ng vai trÃ² nhÆ° má»™t "trÃ¬nh dá»‹ch" Ä‘á»ƒ tá»•ng há»£p thÃ nh má»™t CloudFormation template Ä‘Ã³ng vai trÃ² nhÆ° má»™t "mÃ£ nguá»“n há»£p ngá»¯" chá»©a toÃ n bá»™ cÃ¡c thÃ nh pháº§n cá»§a há»‡ thá»‘ng.

Template nÃ y sau Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai lÃªn AWS thÃ´ng qua CloudFormation Ä‘Ã³ng vai trÃ² nhÆ° má»™t bá»™ xá»­ lÃ½. Dá»… hiá»ƒu ha ğŸ˜…

NgoÃ i AWS CDK Core framework vÃ  AWS CDK CLI, AWS cÃ²n cung cáº¥p thÃªm AWS Construct Hub Library - má»™t thÆ° viá»‡n táº­p há»£p cÃ¡c cáº¥u trÃºc cá»§a AWS CDK cho cÃ¡c dá»‹ch vá»¥ cá»§a AWS. [Construct Hub](https://constructs.dev/) lÃ  tÃ i nguyÃªn giÃºp báº¡n khÃ¡m phÃ¡ cÃ¡c cáº¥u trÃºc bá»• sung tá»« AWS, cÃ¡c bÃªn thá»© ba vÃ  cá»™ng Ä‘á»“ng mÃ£ nguá»“n má»Ÿ.

## Tá»•ng quan vá» AWS CDK Construct

NhÆ° báº¡n cÃ³ thá»ƒ tháº¥y trong diagram á»Ÿ trÃªn, báº¡n cÃ³ thá»ƒ tháº¥y nhiá»u stack Ä‘Æ°á»£c táº¡o thÃ nh tá»« nhiá»u construct, má»—i construct sáº½ chá»©a nhiá»u tÃ i nguyÃªn AWS khÃ¡c nhau. Construct cÃ³ thá»ƒ coi lÃ  thá»© tiá»‡n lá»£i nháº¥t mÃ  AWS CDK mang láº¡i cho cÃ¡c developer.

CÃ³ 3 cÃ¡ch Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c construct trong AWS CDK:

### L1 Construct

Vá» cÆ¡ báº£n, nÃ³ chÃ­nh lÃ  cÃ¡c tÃ i nguyÃªn giá»‘ng vá»›i CloudFormation, cÃ¡c thuá»™c tÃ­nh Ä‘Æ°á»£c Ã¡nh xáº¡ vá»›i cÃ¡c thuá»™c tÃ­nh trong CloudFormation.

Náº¿u chÃºng ta chá»‰ sá»­ dá»¥ng L1 Construct, thá»±c sá»± thÃ¬ khÃ´ng cÃ³ lá»£i Ã­ch nÃ o so vá»›i viá»‡c sá»­ dá»¥ng CloudFormation. Tuy nghiÃªn, náº¿u L2 hoáº·c L3 Construct khÃ´ng cho phÃ©p báº¡n tÃ¹y chá»‰nh má»™t thuá»™c tÃ­nh nháº¥t Ä‘á»‹nh thÃ¬ báº¡n cÃ³ thá»ƒ kháº¯c phá»¥c báº±ng cÃ¡ch sá»­ dá»¥ng L1 Construct.

### L2 Construct

LÃ  tÃ i nguyÃªn AWS Ä‘Æ°á»£c nhÃ³m AWS CDK phÃ¡t triá»ƒn, Ä‘Ã³ng gÃ³i cáº¥u trÃºc L1 báº±ng cÃ¡ch cÃ i Ä‘áº·t cÃ¡c thuá»™c tÃ­nh má»™t cÃ¡ch tá»‘t nháº¥t vá» máº·t báº£o máº­t, tá»‘i Æ°u cÃ¡c giÃ¡ trá»‹ máº·c Ä‘á»‹nh cho tÃ i nguyÃªn.

CÃ³ thá»ƒ coi Ä‘Ã¢y nhÆ° lÃ  cÃ¡c boilerplate cho cÃ¡c tÃ i nguyÃªn vÃ  báº¡n khÃ´ng cáº§n hiá»ƒu quÃ¡ rÃµ Ä‘á»ƒ táº¡o chÃºng trÃªn AWS.
Lá»£i Ã­ch chÃ­nh cá»§a cáº¥u trÃºc L2 lÃ  báº¡n cÃ³ thá»ƒ táº¡o tÃ i nguyÃªn AWS má»™t cÃ¡ch an toÃ n báº±ng má»™t vÃ i dÃ²ng mÃ£.

### L3 Construct / Patterns

Hay cÃ²n Ä‘Æ°á»£c gá»i lÃ  cÃ¡c máº«u (patterns) lÃ  má»™t nhÃ³m cÃ¡c cáº¥u trÃºc L2 Ä‘Æ°á»£c káº¿t há»£p Ä‘á»ƒ cung cáº¥p má»™t giáº£i phÃ¡p Ä‘áº§y Ä‘á»§.
VÃ­ dá»¥: báº¡n cÃ³ thá»ƒ nhÃ³m nhiá»u tÃ i nguyÃªn láº¡i vá»›i nhau Ä‘á»ƒ táº¡o thÃ nh 3 tiers web application, EC2 instances cho backend + frontend Ä‘Æ°á»£c liÃªn káº¿t vá»›i RDS vÃ  cuá»‘i cÃ¹ng lÃ  Application Loadbalancer Ä‘á»ƒ cÃ¢n báº±ng táº£i.

Báº¡n cÃ³ thá»ƒ khá»Ÿi táº¡o nhÃ³m tÃ i nguyÃªn nÃ y báº±ng cÃ¡ch má»™t vÃ i dÃ²ng code vÃ  nÃ³ giÃºp báº¡n cÃ³ thá»ƒ tÃ¡i sá»­ dá»¥ng cÃ¡c máº«u nÃ y trong nhiá»u dá»± Ã¡n hoáº·c cÃ¡c stacks khÃ¡c nhau.

## Nhá»¯ng tÃ­nh nÄƒng cá»§a AWS CDK

- Há»— trá»£ nhiá»u ngÃ´n ngá»¯ láº­p trÃ¬nh phá»• biáº¿n
- DRY, khÃ´ng pháº£i láº·p láº¡i code cho nhá»¯ng cá»¥m tÃ i nguyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u trong dá»± Ã¡n cá»§a báº¡n nhá» L2, L3 CDK Construct
- Kháº£ nÄƒng táº¡o cÃ¡c template CloudFormation lá»›n vá»›i má»™t vÃ i dÃ²ng code, kháº£ nÄƒng template hoÃ¡ cÃ¡c cáº¥u trÃºc, há»‡ thá»‘ng Ä‘Æ°á»£c tÃ¡i sá»­ dá»¥ng nhiá»u láº§n
- LÆ°u trá»¯ cáº¥u hÃ¬nh, config háº¡ táº§ng cá»§a báº¡n trong 1 repo, sá»­ dá»¥ng 1 á»©ng dá»¥ng AWS CDK
- ÄÃ³ng gÃ³p, pháº£n há»“i trá»±c tiáº¿p vá»›i Ä‘á»™i phÃ¡t triá»ƒn vÃ¬ lÃ  open source project ğŸ˜Œ
- Sá»­ dá»¥ng ngÃ´n ngá»¯ Ä‘Ã£ quen thuá»™c, viáº¿t logic Ä‘á»ƒ triá»ƒn khai tÃ i nguyÃªn báº±ng chÃ­nh ngÃ´n ngá»¯ Ä‘Ã³ vÃ  viáº¿t Ä‘c unit test (VD: Sá»­ dá»¥ng vÃ²ng láº·p Ä‘á»ƒ táº¡o 5 hÃ m lambda giá»‘ng nhau mÃ  khÃ´ng cáº§n viáº¿t láº¡i code 5 láº§n)

## AWS CDK vá»›i CloudFormation

Trong nhá»¯ng ngÃ y Ä‘áº§u tiÃªn tiáº¿p xÃºc vá»›i IaC (cá»¥ thá»ƒ lÃ  CloudFormation) kiáº¿n thá»©c cÅ©ng nhÆ° kinh nghiá»‡m lÃ m viá»‡c ráº¥t Ã­t Ä‘Æ°á»£c chia sáº» rá»™ng rÃ£i hoáº·c Ä‘Æ°á»£c tháº£o luáº­n (cÃ³ thá»ƒ nÃ³ váº«n cÃ²n phá»©c táº¡p). Háº§u háº¿t tÃ i liá»‡u tÃ¬m Ä‘Æ°á»£c lÃ  á»Ÿ trÃªn cÃ¡c trang hÆ°á»›ng dáº«n cá»§a AWS, nhÆ°ng AWS CDK thÃ¬ cÃ³ cá»™ng Ä‘á»“ng ráº¥t lá»›n vÃ  chÃºng ta cÃ³ háº³n má»™t [thÆ° viá»‡n Construct](https://constructs.dev/) Ä‘á»ƒ sá»­ dá»¥ng. NgoÃ i Ä‘iá»ƒm khÃ¡c biá»‡t nÃ y nÃ y, AWS CDK cÃ²n má»™t sá»‘ Ä‘iá»ƒm khÃ¡c biá»‡t so vá»›i CloudFormation:

- Sá»­ dá»¥ng L2/L3 Construct sá»­ dá»¥ng cÃ¡c cÃ i Ä‘áº·t tá»‘t nháº¥t theo cÃ¡c best pracites khiáº¿n viá»‡c phÃ¡t triá»ƒn nhanh chÃ³ng vÃ  an toÃ n thay vÃ¬ pháº£i config setting cho tá»«ng tÃ i nguyÃªn nhÆ° á»Ÿ CloudFormation.
- Sá»­ dá»¥ng ngÃ´n ngá»¯ láº­p trÃ¬nh thay vÃ¬ sá»­ dá»¥ng "ngÃ´n ngá»¯" YAML hoáº·c JSON. Thá»i gian sá»­ dá»¥ng ngÃ´n ngá»¯ láº­p trÃ¬nh cÃ³ Ã­ch cho sá»± nghiá»‡p cá»§a báº¡n hÆ¡n lÃ  viáº¿t YAML code cho CloudFormation ğŸ˜…
- Má»™t trong nhá»¯ng selling point cá»§a AWS CDK

> 1500 lines of CloudFormation became 14 lines of CDK - It's important to understand that the deployed application still has 1500 lines' worth of operations and maintenance ownership, not 14 &mdash; Ben Kehoe [@ben11kehoe](https://twitter.com/ben11kehoe/status/1466465582501531662?ref_src=twsrc%5Etfw)

DÃ¹ sao thÃ¬, AWS CDK chá»‰ lÃ  má»™t cÃ¡ch tiáº¿p cáº­n khÃ¡c vÃ  cuá»‘i cÃ¹ng chÃºng ta váº«n cáº§n tá»•ng há»£p thÃ nh má»™t AWS CloudFormation template.
ChÃ­nh vÃ¬ váº­y, báº¡n váº«n nÃªn sá»­ dá»¥ng cÃ¡c tool nhÆ° [cfn-lint](https://www.google.com/search?q=cfn-lint&oq=cfn-lint&aqs=chrome..69i57.101j0j1&sourceid=chrome&ie=UTF-8)
hoáº·c [checkov](https://www.checkov.io/) Ä‘á»ƒ ngÄƒn cháº·n viá»‡c cáº¥u hÃ¬nh sai cho há»‡ thá»‘ng cá»§a báº¡n.

Vá»›i má»™t cÃ´ng cá»¥ abstract CloudFormation nhÆ° AWS CDK sáº½ ráº¥t tá»‘t náº¿u báº¡n thá»±c sá»± hiá»ƒu nhá»¯ng gÃ¬ thá»±c sá»± Ä‘ang diá»…n ra á»Ÿ phÃ­a sau. Náº¿u báº¡n khÃ´ng hiá»ƒu CloudFormation lÃ m nhÆ° thá»ƒ nÃ o Ä‘á»ƒ triá»ƒn khai cÃ¡c tÃ i nguyÃªn, báº¡n cÃ³ thá»ƒ máº¥t nhiá»u thá»i gian hÆ¡n trong viá»‡c gá»¡ lá»—i vÃ  khÃ´ng thá»ƒ lÃ½ giáº£i táº¡i sao AWS CDK app cá»§a mÃ¬nh khÃ´ng hoáº¡t Ä‘á»™ng. ChÃ­nh vÃ¬ váº­y, sáº½ ráº¥t tá»‘t náº¿u báº¡n cÃ³ kiáº¿n thá»©c, khÃ¡i niá»‡m cÆ¡ báº£n vá» CloudFormation.

![Code cá»§a mÃ¬nh khÃ´ng cháº¡y](/static/images/assets/codedoesntwork.jpeg)

## LÃ m tháº¿ nÃ o Ä‘á»ƒ báº¯t Ä‘áº§u vá»›i AWS CDK?

Äá»ƒ báº¯t Ä‘áº§u, báº¡n cáº§n cÃ i Ä‘áº·t AWS CDK toolkit báº±ng node package manager (npm). CÃ¡c báº¡n sáº½ Ä‘Æ°á»£c hÆ°á»›ng dáº«n chi tiáº¿t rong [bÃ i tiáº¿p theo cá»§a khoÃ¡ há»c](/courses/aws/cdk/huong-dan-chi-tiet-cai-dat-aws-cdk) vá» viá»‡c cÃ i Ä‘áº·t CDK. CÃ²n Ä‘á»ƒ nÃ³i ngáº¯n gá»n thÃ¬ báº¡n cáº§n cháº¡y cÃ¢u lá»‡nh sau

```shell:shell
npm install -g aws-cdk
```

## AWS CDK good practices

- Táº¡o nhiá»u mÃ´i trÆ°á»ng khÃ¡c nhau báº±ng cÃ¡c tÃ i khoáº£n AWS riÃªng biá»‡t (VD: Dev, Test, Stage, Prod) Ä‘á»ƒ triá»ƒn khai nhá»¯ng á»©ng dá»¥ng AWS CDK
- ThÃªm cÃ¡c integration test (tá»± Ä‘á»™ng) trong pipeline Ä‘á»ƒ giáº£m thiá»ƒu kháº£ nÄƒng thay Ä‘á»•i lÃ m há»ng á»©ng dá»¥ng cá»§a báº¡n
- Sá»­ dá»¥ng `cdk diff` Ä‘á»ƒ kiá»ƒm tra/review cÃ¡c thay Ä‘á»•i trÆ°á»›c khi triá»ƒn khai trÃªn production.
- PhÃ¢n tÃ¡ch stateful constructs chá»©a cÃ¡c tÃ i nguyÃªn nhÆ° database, storage riÃªng biá»‡t vá»›i cÃ¡c stateless constructs chá»©a cÃ¡c tÃ i nguyÃªn nhÆ° API, ECS, Monitoring,... Tá»« Ä‘Ã³ báº¡n cÃ³ thá»ƒ báº­t cháº¿ Ä‘á»™ báº£o vá»‡ (termination protection) cho cÃ¡c tÃ i nguyÃªn stateful vÃ  cÃ³ thá»ƒ an toÃ n xoÃ¡, táº¡o má»›i cÃ¡c stack chá»©a cÃ¡c tÃ i nguyÃªn stateless mÃ  khÃ´ng cáº§n lo viá»‡c máº¥t dá»¯ liá»‡u.
- CÃ¡c tÃ i nguyÃªn stateful thÆ°á»ng sáº½ bá»‹ thay tháº¿ khi Ä‘á»•i tÃªn (tÃ i nguyÃªn hoáº·c constructs) nÃªn khÃ´ng nÃªn Ä‘áº·t cÃ¡c tÃ i nguyÃªn nÃ o vÃ o cÃ¡c constructs cÃ³ kháº£ nÄƒng cao sáº½ bá»‹ di chuyá»ƒn hoáº·c Ä‘á»•i tÃªn (trá»« khi dá»¯ liá»‡u cÃ³ thá»ƒ Ä‘Æ°á»£c tÃ¡i táº¡o nhÆ° cache). ÄÃ¢y chÃ­nh lÃ  lÃ½ do chÃ­nh Ä‘Ã¡ng cho viá»‡c Ä‘áº·t cÃ¡c tÃ i nguyÃªn stateful vÃ  stack riÃªng chá»‰ chá»©a chÃºng.
- DÃ¹ng cÃ¡c cáº¥u trÃºc Ä‘iá»u khiá»ƒn, Ä‘iá»u kiá»‡n vá»›i ngÃ´n ngá»¯ láº­p trÃ¬nh báº¡n lá»±a chá»n Ä‘á»ƒ khá»Ÿi táº¡o Construct trong quÃ¡ trÃ¬nh tá»•ng há»£p. KhÃ´ng dÃ¹ng cÃ¡c logic cá»§a AWS CloudFormation NhÆ° Conditions, \{Fn:If\} hay Parameters,...

Tham kháº£o thÃªm [tÃ i liá»‡u chÃ­nh thá»©c](https://docs.aws.amazon.com/cdk/v2/guide/best-practices.html) Ä‘á»ƒ biáº¿t thÃªm má»™t sá»‘ good practices

## CÃ´ng cá»¥ láº­p trÃ¬nh cho AWS CDK

DÃ¹ báº¡n Ä‘Ã£ tiáº¿t kiá»‡m ráº¥t nhiá»u thá»i gian khi sá»­ dá»¥ng AWS CDK rá»“i nhÆ°ng nhá»¯ng cÃ´ng cá»¥ dÆ°á»›i Ä‘Ã¢y cÃ²n giÃºp báº¡n tiáº¿t kiá»‡m Ä‘Æ°á»£c nhiá»u thá»i gian vÃ  cáº£i thiá»‡n workflow khi lÃ m viá»‡c vá»›i AWS CDK:

- [AWS Toolkit for VS Code](https://aws.amazon.com/visualstudiocode/) - cho phÃ©p báº¡n dá»… dÃ ng access Ä‘Æ°á»£c cÃ¡c tÃ i nguyÃªn cá»§a á»©ng dá»¥ng AWS CDK dÆ°á»›i dáº¡ng cÃ¢y

![AWS Toolkit for VS Code](https://github.com/aws/aws-toolkit-vscode/raw/HEAD/resources/marketplace/vscode/overview-aws-explorer.png)

- [Projen](https://github.com/projen/projen) - LÃ  trÃ¬nh khá»Ÿi táº¡o dá»± Ã¡n AWS CDK (project generator) cho báº¡n báº±ng viá»‡c sá»­ dá»¥ng cÃ¡c cáº¥u hÃ¬nh tá»‘t nháº¥t cho dá»± Ã¡n má»›i. GiÃºp báº¡n nhanh chÃ³ng phÃ¡t triá»ƒn dá»± Ã¡n theo cÃ¡c quy chuáº©n tá»‘t nháº¥t.
- [IntelliCode](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode) - cung cáº¥p kháº£ nÄƒng hoÃ n thÃ nh mÃ£ sá»­ dá»¥ng AI khi xÃ¢y dá»±ng cÃ¡c Construct.
- [Cdk-nag](https://github.com/cdklabs/cdk-nag) - kiá»ƒm tra á»©ng dá»¥ng cá»§a báº¡n theo cÃ¡c quy táº¯c cÃ³ sáºµn hoáº·c best practices. CÃ³ thá»ƒ tÃ­ch há»£p trong pipeline cá»§a báº¡n Ä‘á»ƒ cháº¯c cháº¯n nhá»¯ng tiÃªu chuáº©n cao nháº¥t Ä‘á»‘i vá»›i cÃ¡c tÃ i nguyÃªn AWS Ä‘Æ°á»£c Ã¡p dá»¥ng khi báº¡n xÃ¢y dá»±ng vÃ  triá»ƒn khai dá»± Ã¡n.

## FAQ

**1. AWS CDK cÃ³ tá»‘t hÆ¡n Terraform**

NhÆ° Ä‘Ã£ nÃ³i á»Ÿ Ä‘áº§u bÃ i viáº¿t Terraform vÃ  CloudFormation sá»­ dá»¥ng cÃ¡c tiáº¿p cáº­n khai bÃ¡o (declarative) thay vÃ¬ má»‡nh lá»‡nh (imperative) nhÆ° AWS CDK, Ä‘Ã³ lÃ 
Ä‘iá»ƒm khÃ¡c biá»‡t lá»›n nháº¥t. Cáº£ 2 Ä‘á»u lÃ  nhá»¯ng cÃ´ng cá»¥ ráº¥t tá»‘t vÃ  cÃ³ há»‡ sinh thÃ¡i, cá»™ng Ä‘á»“ng lá»›n Ä‘á»ƒ cÃ³ thá»ƒ triá»ƒn khai cÃ¡c tÃ i nguyÃªn trÃªn AWS. Má»™t Ä‘iá»ƒm ná»¯a cáº§n cÃ¢n nháº¯c náº¿u báº¡n pháº£i lá»±a chá»n,
Terraform Sá»­ dá»¥ng ngÃ´n ngá»¯, syntax riÃªng cho viá»‡c viáº¿t code (HCL) cÃ²n vá»›i AWS CDK, báº¡n cÃ³ thá»ƒ lá»±a chá»n ngÃ´n ngá»¯ mÃ  báº¡n tháº¥y phÃ¹ há»£p Ä‘á»ƒ lÃ m viá»‡c cÃ¹ng.
Trong má»™t diá»…n biáº¿n khÃ¡c, [Terraform cÅ©ng má»›i ra máº¯t CDK cá»§a riÃªng mÃ¬nh](https://www.terraform.io/cdktf)

**2. AWS CDK cÃ³ pháº£i lÃ  Infrastructure as Code (Iac)?**

CÃ³, há»‡ thá»‘ng trÃªn AWS váº«n Ä‘Æ°á»£c táº¡o ra tá»« viá»‡c viáº¿t code vÃ  cá»¥ thá»ƒ lÃ  cÃ¡c CloudFormation template

**3. Tiá»m nÄƒng cá»§a AWS CDK?**

Ráº¥t nhiá»u developer Ä‘Ã£ báº¯t Ä‘áº§u sá»­ dá»¥ng AWS CDK, Ä‘Ã¢y cÅ©ng lÃ  lÃ½ do cá»™ng Ä‘á»“ng cá»§a nÃ³ lá»›n máº¡nh hÆ¡n CloudFormation ráº¥t nhiá»u.
L2/L3 Construct giÃºp cÃ¡c láº­p trÃ¬nh viÃªn khÃ´ng cáº§n hiá»ƒu quÃ¡ sÃ¢u vá» cÃ¡c dá»‹ch vá»¥ cá»§a AWS cÅ©ng cÃ³ thá»ƒ táº¡o Ä‘Æ°á»£c cÃ¡c há»‡ thá»‘ng theo nhá»¯ng chuáº©n tá»‘t nháº¥t.
NgoÃ i ra viá»‡c nÃ³ lÃ  má»™t open source project cÅ©ng khiáº¿n tá»‘c Ä‘á»™ phÃ¡t triá»ƒn, lan rá»™ng nhanh hÆ¡n nhiá»u. Viá»‡c chia sáº» cÃ¡c patterns/templates cÅ©ng trá»Ÿ nÃªn dá»… dÃ ng hÆ¡n so vá»›i CloudFormation.

## Tá»•ng káº¿t

Trong bÃ i viáº¿t nÃ y, báº¡n Ä‘Ã£ náº¯m Ä‘Æ°á»£c nhá»¯ng khÃ¡i niá»‡m cÆ¡ báº£n cá»§a AWS CDK vÃ  cÃ¡ch nÃ³ giÃºp báº¡n cáº£i thiá»‡n quy trÃ¬nh lÃ m viá»‡c/xÃ¢y dá»±ng vá»›i cÃ¡c tÃ i nguyÃªn AWS. Báº¡n cÅ©ng Ä‘Ã£ hiá»ƒu cÃ¡ch nÃ³ lÃ m viá»‡c vá»›i CloudFormation, nhá»¯ng tÃ­nh nÄƒng, lá»£i Ã­ch mÃ  nÃ³ Ä‘em láº¡i.

CÃ¡c good practices vÃ  cÃ´ng cá»¥ Ä‘á»ƒ báº¡n cÃ³ thá»ƒ vá»«a xÃ¢y dá»±ng há»‡ thá»‘ng vá»›i nhá»¯ng tiÃªu chuáº©n tá»‘t nháº¥t mÃ  khÃ´ng cáº§n máº¥t quÃ¡ nhiá»u thá»i gian.

Náº¿u báº¡n muá»‘n tÃ¬m hiá»ƒu sÃ¢u hÆ¡n, hÃ£y tham kháº£o cÃ¡c [vÃ­ dá»¥ cá»§a AWS CDK](https://github.com/aws-samples/aws-cdk-examples) vÃ  báº¯t Ä‘áº§u xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng thá»±c táº¿ sá»­ dá»¥ng AWS CDK trong cÃ¡c bÃ i tiáº¿p theo.

Háº¹n gáº·p láº¡i cÃ¡c báº¡n trong bÃ i [HÆ°á»›ng dáº«n chi tiáº¿t cÃ i Ä‘áº·t AWS CDK](/courses/aws/cdk/huong-dan-chi-tiet-cai-dat-aws-cdk)

## References

- [What is the AWS CDK?](https://docs.aws.amazon.com/cdk/v2/guide/home.html)
- [Best practices for developing and deploying cloud infrastructure with the AWS CDK](https://docs.aws.amazon.com/cdk/v2/guide/best-practices.html)
- [Examples](https://docs.aws.amazon.com/cdk/v2/guide/examples.html)
- [What is AWS CDK](https://towardsthecloud.com/aws-cdk)
- [Manage application security and compliance with the AWS Cloud Development Kit and cdk-nag](https://aws.amazon.com/blogs/devops/manage-application-security-and-compliance-with-the-aws-cloud-development-kit-and-cdk-nag/)
- [A No-Nonsense Guide To AWS Cloud Development Kit (CDK)](https://blog.phillipninan.com/a-no-nonsense-guide-to-aws-cloud-development-kit-cdk#key-cdk-terms)
- Hero photo by <a href="https://unsplash.com/@kirildobrev?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Kiril Dobrev</a> on <a href="https://unsplash.com/s/photos/vietnam-school?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
