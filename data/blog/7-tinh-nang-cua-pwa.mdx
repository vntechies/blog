---
title: 7 tÃ­nh nÄƒng Ã­t Ä‘Æ°á»£c biáº¿t tá»›i cá»§a PWA
date: '2021-01-14'
tags: ['javascript', 'pwa', 'web']
draft: false
authors: ['mau']
images: ['/static/images/ogps/7pwa.png']
summary: 'Nhá»¯ng tÃ­nh nÄƒng cá»§a PWA mÃ  cÃ³ thá»ƒ báº¡n chÆ°a biáº¿t'
---

![7pwa](/static/images/ogps/7pwa.png)

<TOCInline toc={props.toc} asDisclosure />

Progressive Web App (PWA) lÃ  má»™t loáº¡i web app Ä‘Æ°á»£c xÃ¢y dá»±ng dÆ°á»›i cÃ¡c cÃ´ng nghá»‡ cá»§a website nhÆ°ng cÃ³ kháº£ nÄƒng Ä‘Æ°a cÃ¡c á»©ng dá»¥ng web lÃªn má»™t sÃ¢n chÆ¡i bÃ¬nh Ä‘áº³ng vá»›i cÃ¡c á»©ng dá»¥ng native dÃ nh cho mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n, Android hay iOS. BÃ i viáº¿t nÃ y sáº½ giá»›i thiá»‡u 7 tÃ­nh nÄƒng cá»§a PWA Ã­t Ä‘Æ°á»£c biáº¿t Ä‘áº¿n.

## 1. App Shortcuts

![App shortcuts](https://web-dev.imgix.net/image/admin/1ekafMZjtzcd0G3TLQJ4.jpg?auto=format&w=1600)

[App Shortcuts](https://web.dev/app-shortcuts/)

CÃ¡c shortcuts cho phÃ©p ngÆ°á»i dÃ¹ng truy cáº­p nhanh vÃ o má»™t sá»‘ tÃ¡c vá»¥ phá»• biáº¿n, Ä‘em láº¡i tráº£i nghiá»‡m giá»‘ng nhÆ° native app trÃªn cÃ¡c ná»n táº£ng khÃ¡c web.

```json
{
  "name": "VNTechies",
  //...
  "shortcuts": [
    {
      "name": "Series",
      "short_name": "Series",
      "description": "Tá»•ng há»£p cÃ¡c bÃ i viáº¿t theo chá»§ Ä‘á»",
      "url": "/series",
      "icons": [{ "src": "/static/favicons/series.png", "sizes": "192x192" }]
    },
    {
      "name": "Tags",
      "short_name": "Tags",
      "description": "Tá»•ng há»£p cÃ¡c bÃ i viáº¿t theo tags",
      "url": "/tags",
      "icons": [{ "src": "/static/favicons/tags.png", "sizes": "160x160" }]
    }
  ]
}
```

## 2. Contact Picker

![Contact Picker](https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/EiHIOYdno52DZ6TNHcfI.jpg?auto=format&w=845)

[Contact Picker](https://web.dev/contact-picker/) API cung cáº¥p má»™t cÃ¡ch dá»… dÃ ng Ä‘á»ƒ ngÆ°á»i dÃ¹ng chia sáº» contact tá»« danh báº¡ cá»§a há».

```javascript
const btn = document.getElementById('contacts')
btn.addEventListener('click', (event) => getContacts())

const props = ['name', 'email', 'tel', 'address', 'icon']
const opts = { multiple: true }
const supported = 'contacts' in navigator && 'ContactsManager' in window

async function getContacts() {
  if (supported) {
    const contacts = await navigator.contacts.select(props, opts)
    console.log(contacts)
  } else {
    alert('contact picker not supported!')
  }
}
```

## 3. Device Motion

[Device Motion API](https://developer.mozilla.org/en-US/docs/Web/API/DeviceMotionEvent) cung cáº¥p cho cÃ¡c nhÃ  phÃ¡t triá»ƒn web thÃ´ng tin vá» chuyá»ƒn Ä‘á»™ng vÃ  hÆ°á»›ng cá»§a thiáº¿t bá»‹.

```javascript
window.addEventListener('devicemotion', function (event) {
  const el = document.getElementById('motion')
  console.log(event)
  el.innerText = Math.round((event.acceleration.x + Number.EPSILON) * 100) / 100 + ' m/s2'
  // el.innerText = event.rotationRate.beta;
})

window.navigator.geolocation.getCurrentPosition(console.log)
```

## 4. Bluetooth & External Devices

[Web Bluetooth API](https://developer.chrome.com/articles/bluetooth/) cho phÃ©p cÃ¡c website giao tiáº¿p thÃ´ng qua cÃ¡c thiáº¿t bá»‹ bluetooth.

```javascript
const button = document.getElementById('ble')
button.addEventListener('click', (event) => connectBluetooth())

async function connectBluetooth() {
  // Connect Device
  const device = await navigator.bluetooth.requestDevice({
    filters: [{ services: ['heart_rate'] }],
  })
  const server = await device.gatt.connect()

  // Get heart rate data
  const hr = await server.getPrimaryService('heart_rate')
  const hrMeasurement = await hr.getCharacteristic('heart_rate_measurement')

  // Listen to changes on device
  await hrMeasurement.startNotifications()

  hrMeasurement.addEventListener('characteristicvaluechanged', (e) => {
    console.log(parseHeartRate(e.target.value))
  })
}
```

## 5. Idle Detection

[Idle Detection API](https://web.dev/idle-detection/) dÃ¹ng Ä‘á»ƒ phÃ¡t hiá»‡n khi ngÆ°á»i dÃ¹ng khÃ´ng sá»­ dá»¥ng thiáº¿t bá»‹ cá»§a há».

```javascript
if ('IdleDetector' in window) {
  const idleBtn = document.getElementById('idle')
  idleBtn.addEventListener('click', (event) => runIdleDetection())

  async function runIdleDetection() {
    const state = await IdleDetector.requestPermission()
    console.log(state)

    const idleDetector = new IdleDetector()

    idleDetector.addEventListener('change', () => {
      const { userState, screenState } = idleDetector
      console.log(idleDetector)

      if (userState == 'idle') {
        // update database with status
      }
    })

    await idleDetector.start({
      threshold: 120000,
    })
  }
}
```

## 6. File System

[File System API](https://web.dev/file-system-access/) cho phÃ©p á»©ng dá»¥ng web Ä‘á»c hoáº·c lÆ°u cÃ¡c thay Ä‘á»•i trá»±c tiáº¿p Ä‘á»‘i vá»›i tá»‡p vÃ  thÆ° má»¥c trÃªn thiáº¿t bá»‹ cá»§a ngÆ°á»i dÃ¹ng.

```javascript
const getFileBtn = document.getElementById('fs-get')

getFileBtn.onclick = async () => {
  const [handle] = await window.showOpenFilePicker()
  const file = await handle.getFile()
  console.log(file)
}

const saveFileBtn = document.getElementById('fs-save')

saveFileBtn.onclick = async () => {
  const textFile = new File(['hello world'], 'hello.txt', {
    type: 'text/plain',
  })
  const handle = await window.showSaveFilePicker()
  const writable = await handle.createWritable()
  await writable.write(textFile)
  await writable.close()
}
```

## 7. Web Share

![Web Share Target API](https://web-dev.imgix.net/image/sQ51XsLqKMgSQMCZjIN0B7hlBO02/mOLhCVAigwTWGEiAo3Rc.png?auto=format&w=439)

Chia sáº» trÃªn Ä‘iá»‡n thoáº¡i vÃ  mÃ¡y tÃ­nh dá»… dÃ ng hÆ¡n vá»›i [Web Share Target API](https://web.dev/web-share-target/)

```json
{
  "name": "VNTechies",
  //...
  "share_target": {
    "action": "/share-photo",
    "method": "POST",
    "enctype": "multipart/form-data",
    "params": {
      "title": "name",
      "text": "description",
      "url": "link",
      "files": [
        {
          "name": "photos",
          "accept": "image/png"
        }
      ]
    }
  }
}
```

![Web Share API](https://web-dev.imgix.net/image/admin/cCXNoHbXAfkAQzTTuS0Z.png?auto=format&w=385)

[Web Share API](https://web.dev/web-share/) cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡c dialog chia sáº» cá»§a cÃ¡c há»‡ thá»‘ng nhÆ° cÃ¡c á»©ng dá»¥ng native.

```javascript
const shareBtn = document.getElementById('share')

shareBtn.onclick = async (filesArray) => {
  if (navigator.canShare) {
    navigator.share({
      url: 'https://vntechies.dev',
      title: 'PWAs are awesome!',
      text: 'I learned how to build a PWA today',
    })
  }
}
```

## Reference

- [Seven Awesome PWA Features](https://fireship.io/lessons/pwa-top-features/)

_Thumbnail photo by <a href="https://www.netflix.com/title/950149">Netflix</a>_

## VNTechies Dev Blog

Kho tÃ i nguyÃªn mÃ£ nguá»“n má»Ÿ vá»›i sá»© má»‡nh Ä‘Ã o táº¡o kiáº¿n thá»©c, Ä‘á»‹nh hÆ°á»›ng nghá» nghiá»‡p cho cá»™ng Ä‘á»“ng Cloud â˜ï¸ DevOps ğŸš€

[![Facebook page](/static/images/default-ogp.png)](https://www.facebook.com/vntechies)

Tham gia group [VNTechies - Cloud â˜ï¸ / DevOps ğŸš€](https://www.facebook.com/groups/acevntechies) náº¿u báº¡n muá»‘n giao lÆ°u vá»›i cá»™ng Ä‘á»“ng vÃ  cáº­p nháº­t cÃ¡c thÃ´ng tin má»›i nháº¥t vá» Cloud vÃ  DevOps.

- Website: https://vntechies.dev
- Github repository: https://github.com/vntechies
- Facebook page: https://facebook.com/vntechies

[![Discord banner](https://images.viblo.asia/c8c4a473-c08d-45a3-be57-821781c1c256.png)](https://discord.com/invite/k2uDgd7NZ4)

Anh chá»‹ em hÃ£y follow/á»§ng há»™ VNTechies Ä‘á»ƒ cáº­p nháº­t nhá»¯ng thÃ´ng tin má»›i nháº¥t vá» Cloud vÃ  DevOps nhÃ©!
